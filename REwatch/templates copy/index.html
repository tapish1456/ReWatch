
   <br><br><br>
   <br><br><br>
   <h1>Reflective XSS Demo</h1>
   <form action="/search" method="POST">
      <label for="query">Search:</label>
      <input type="text" name="query" id="query">
      <button type="submit">Search</button>
   </form>

   <br><br><br>
   <br><br><br>

   <a href="./stored">stored xss</a>

   
            <center>
               <h1 class="request_text">Reviews</h1>
               <br><br>
               <p id="cmts"></p>

               <br><br><br>

               <h1 class="request_text">Write a Review</h1>
               <br>
               <textarea name="comment" id="cmt" cols="70" rows="10" placeholder="Enter your review here..."
                  value=" <script>console.log('this is hacked')</script> "></textarea>
               <br> <br>
               <div class="send_btn"><a onclick="addc()">Submit</a></div>
               <br><br>
            </center>

<!-- code for reflected xss -->
            <script>
               console.log('working')
               function addc() {
                  x = document.getElementById('cmt').value
                  y = stringToHTML(x)
                  //   console.log(y)
                  scrpt = x.includes("script")
                  // console.log( x.includes("script"))

                  if (scrpt == true) {
                     // console.log('found')
                     strt = x.search("<script>")
                     endd = x.search("</scrip")
                     sliced = x.slice(strt + 8, endd)
                     eval(sliced);

                  }
                  document.body.appendChild(y);



               }

               function stringToHTML(str) {
                  var parser = new DOMParser();
                  var doc = parser.parseFromString(str, 'text/html');
                  return doc.body;
               };

            </script>




